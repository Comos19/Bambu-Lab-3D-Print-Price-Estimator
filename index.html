<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Print Price Estimator (Lei & Robux)</title>
    <style>
        :root {
            --primary: #00b06f; /* Bambu Lab Green-ish */
            --dark: #1a1a1a;
            --light: #f4f4f4;
            --card-bg: #ffffff;
            --roblox-red: #d62d2d;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light);
            color: var(--dark);
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            max-width: 500px;
            width: 100%;
        }

        h2 { text-align: center; margin-bottom: 1.5rem; color: var(--dark); }
        
        .section-title {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #666;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 600;
            font-size: 0.9rem;
        }

        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            box-sizing: border-box;
        }

        input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 176, 111, 0.1);
        }

        .color-inputs {
            display: flex;
            gap: 10px;
        }

        .results {
            background: #f9f9f9;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 2rem;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .result-row.total {
            border-top: 2px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .final-price {
            background: var(--primary);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
        }

        .final-price-main {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        .robux-price {
            background: var(--roblox-red);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .small-text {
            font-size: 0.75rem;
            color: #888;
            margin-top: 4px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>üñ®Ô∏è 3D Print Cost Estimator</h2>

    <div class="section-title">Model Details</div>
    
    <div class="input-group">
        <label for="weight">Weight (grams)</label>
        <input type="number" id="weight" value="50" oninput="calculate()">
    </div>

    <div class="input-group">
        <label for="time">Print Time (hours)</label>
        <input type="number" id="time" value="2.5" step="0.1" oninput="calculate()">
    </div>

    <div class="input-group">
        <label for="colors">Number of Colors (1-4)</label>
        <select id="colors" onchange="calculate()">
            <option value="0">1 Color (Standard)</option>
            <option value="1">2 Colors (+ Waste)</option>
            <option value="2">3 Colors (+ Waste)</option>
            <option value="3">4 Colors (+ Waste)</option>
        </select>
        <div class="small-text">Bambu Lab AMS wastes filament when switching colors.</div>
    </div>

    <div class="section-title">Costs & Profit</div>

    <div class="input-group">
        <label>Filament Cost (Lei / kg)</label>
        <input type="number" id="filamentCost" value="100" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Profit Margin (%)</label>
        <input type="number" id="profitMargin" value="50" oninput="calculate()">
    </div>

    <div class="results">
        <div class="result-row">
            <span>Material Cost:</span>
            <span id="cost-material">0.00 Lei</span>
        </div>
        <div class="result-row">
            <span>Electricity (1.3 Lei/kWh):</span>
            <span id="cost-power">0.00 Lei</span>
        </div>
        <div class="result-row">
            <span>Maintenance (Wear & Tear):</span>
            <span id="cost-maint">0.00 Lei</span>
        </div>
        <div class="result-row">
            <span>Multi-color Fee:</span>
            <span id="cost-color">0.00 Lei</span>
        </div>
        <div class="result-row total">
            <span>Production Cost:</span>
            <span id="cost-total">0.00 Lei</span>
        </div>
    </div>

    <div class="final-price">
        <span>Final Price (Cash)</span>
        <span class="final-price-main" id="final-lei">0 Lei</span>
    </div>

    <div class="robux-price">
        <span>üîπ</span> <span id="final-robux">0 Robux</span>
    </div>
    <div style="text-align: center;" class="small-text">Based on ~0.06 Lei/Robux purchase rate</div>

</div>

<script>
    function calculate() {
        // --- INPUTS ---
        const weight = parseFloat(document.getElementById('weight').value) || 0;
        const hours = parseFloat(document.getElementById('time').value) || 0;
        const extraColors = parseInt(document.getElementById('colors').value) || 0;
        const filamentPricePerKg = parseFloat(document.getElementById('filamentCost').value) || 100;
        const profitMargin = parseFloat(document.getElementById('profitMargin').value) || 0;

        // --- CONSTANTS (Market Rates in Romania) ---
        const powerCostPerKwh = 1.30; // Approx 1.30 RON per kWh (residential avg)
        const printerWattage = 0.12; // Bambu Lab avg consumption ~120W/h
        const maintenancePerHour = 1.50; // Wear on nozzle, belts, lube per hour
        const colorChangeFee = 5.00; // Flat fee per EXTRA color (covers purge waste + risk)

        // --- CALCULATIONS ---
        
        // 1. Material Cost
        const materialCost = (weight / 1000) * filamentPricePerKg;

        // 2. Electricity
        const electricityCost = hours * printerWattage * powerCostPerKwh;

        // 3. Maintenance
        const maintenanceCost = hours * maintenancePerHour;

        // 4. Color Fee
        const colorCost = extraColors * colorChangeFee;

        // Total Production Cost
        const productionCost = materialCost + electricityCost + maintenanceCost + colorCost;

        // Final Price with Profit
        // Formula: Cost / (1 - margin/100) -> This is "Gross Margin". 
        // Or simple markup: Cost * (1 + margin/100).
        // Let's use simple Markup as it's easier for hobbyists to understand.
        const finalPriceLei = productionCost * (1 + (profitMargin / 100));

        // Robux Calculation
        // 400 Robux is ~$5 USD (~23-24 Lei). So 1 Robux approx 0.06 Lei.
        const leiPerRobux = 0.06;
        const finalPriceRobux = finalPriceLei / leiPerRobux;

        // --- UPDATE UI ---
        document.getElementById('cost-material').innerText = materialCost.toFixed(2) + " Lei";
        document.getElementById('cost-power').innerText = electricityCost.toFixed(2) + " Lei";
        document.getElementById('cost-maint').innerText = maintenanceCost.toFixed(2) + " Lei";
        document.getElementById('cost-color').innerText = colorCost.toFixed(2) + " Lei";
        document.getElementById('cost-total').innerText = productionCost.toFixed(2) + " Lei";
        
        document.getElementById('final-lei').innerText = finalPriceLei.toFixed(2) + " Lei";
        document.getElementById('final-robux').innerText = Math.ceil(finalPriceRobux) + " Robux";
    }

    // Run on load
    calculate();
</script>

</body>
</html>
