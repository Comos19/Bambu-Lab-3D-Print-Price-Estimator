<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bambu Lab Price Estimator</title>
    <style>
        :root {
            --bambu-green: #00aeef;
            --robux-gold: #ffb100;
            --bg: #f4f7f6;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 100%; max-width: 450px; }
        h2 { color: #333; margin-top: 0; border-bottom: 2px solid var(--bambu-green); padding-bottom: 10px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #555; font-size: 0.9em; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1em; }
        .results { margin-top: 20px; padding: 15px; background: #eef9ff; border-radius: 10px; }
        .price-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 1.1em; }
        .profit-section { border-top: 1px dashed #ccc; margin-top: 10px; padding-top: 10px; }
        .final-price { font-size: 1.5em; font-weight: bold; color: var(--bambu-green); }
        .robux { color: var(--robux-gold); font-weight: bold; }
        .badge { font-size: 0.7em; background: #333; color: white; padding: 2px 6px; border-radius: 4px; vertical-align: middle; }
    </style>
</head>
<body>

<div class="card">
    <h2>3D Print Estimator</h2>
    
    <div class="input-group">
        <label>Model Weight (grams)</label>
        <input type="number" id="weight" value="50" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Print Time (hours)</label>
        <input type="number" id="time" value="2" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Number of Colors (AMS)</label>
        <select id="colors" onchange="calculate()">
            <option value="1">1 Color</option>
            <option value="2">2 Colors (+10% waste)</option>
            <option value="3">3 Colors (+20% waste)</option>
            <option value="4">4 Colors (+30% waste)</option>
        </select>
    </div>

    <div class="input-group">
        <label>Profit Margin (%)</label>
        <input type="number" id="margin" value="50" oninput="calculate()">
    </div>

    <div class="results">
        <div class="price-row">
            <span>Production Cost:</span>
            <span id="prodCost">0.00 Lei</span>
        </div>
        <div class="profit-section">
            <div class="price-row">
                <span>Final Price (Lei):</span>
                <span class="final-price" id="finalLei">0.00 Lei</span>
            </div>
            <div class="price-row">
                <span>Final Price (Robux):</span>
                <span class="robux" id="finalRobux">0 R$</span>
            </div>
        </div>
    </div>
    
    <p style="font-size: 0.8em; color: #888; margin-top: 15px;">
        *Settings: 100 Lei/kg | 0.65 Lei/hr (Elec+Maint) | 1 R$ â‰ˆ 0.035 Lei
    </p>
</div>

<script>
    function calculate() {
        // Constants
        const filamentPricePerGram = 0.10; // 100 Lei / 1000g
        const hourlyRunningCost = 0.65;    // Electricity + Maintenance
        const robuxRate = 0.035;           // 1 Robux cost in Lei

        // Inputs
        const weight = parseFloat(document.getElementById('weight').value) || 0;
        const hours = parseFloat(document.getElementById('time').value) || 0;
        const colors = parseInt(document.getElementById('colors').value);
        const marginPercent = parseFloat(document.getElementById('margin').value) || 0;

        // Logic
        let filamentCost = weight * filamentPricePerGram;
        let timeCost = hours * hourlyRunningCost;
        
        // Base production cost
        let productionCost = filamentCost + timeCost;

        // Color penalty (Bambu AMS waste is high)
        // Adding 10% total cost increase per extra color
        let colorMultiplier = 1 + ((colors - 1) * 0.10);
        productionCost = productionCost * colorMultiplier;

        // Final price with profit
        let finalLei = productionCost * (1 + (marginPercent / 100));
        let finalRobux = Math.ceil(finalLei / robuxRate);

        // Display
        document.getElementById('prodCost').innerText = productionCost.toFixed(2) + " Lei";
        document.getElementById('finalLei').innerText = finalLei.toFixed(2) + " Lei";
        document.getElementById('finalRobux').innerText = finalRobux.toLocaleString() + " R$";
    }

    // Initial run
    calculate();
</script>

</body>
</html>